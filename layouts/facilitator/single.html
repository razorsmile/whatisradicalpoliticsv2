{{ define "main" }}
<canvas id="background-pattern"></canvas>

<header>
  <div class="header-content">
    <h1 class="site-title"><a href="/">{{ .Site.Title }}</a></h1>
    <button class="burger" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    {{ partial "nav.html" . }}
  </div>
</header>

<main style="min-height: 60vh; padding: 2rem 0; background: #f5f5f5;">
  <div class="facilitator-container" style="max-width: 900px; margin: 0 auto; background: white; padding: 3rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <div class="facilitator-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 3px solid #667eea;">
      <h1 style="margin: 0;">{{ .Title }}</h1>
      <button class="print-button" onclick="window.print()" style="background: #667eea; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 0.5rem;">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>
        </svg>
        Print Script
      </button>
    </div>
    
    {{ if .Params.description }}
    <p class="facilitator-intro" style="font-size: 1.1rem; color: #666; margin-bottom: 2rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #667eea;">{{ .Params.description }}</p>
    {{ end }}
    
    <div class="facilitator-content">
      {{ .Content }}
    </div>
  </div>
</main>

{{ partial "footer.html" . }}

<style>
  /* Facilitator-specific styles */
  .facilitator-content h4 {
    font-size: 1.5rem;
    color: #667eea;
    margin-top: 2rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e0e0e0;
  }

  .facilitator-content h5 {
    font-size: 1.2rem;
    color: #333;
    margin-top: 1.5rem;
    margin-bottom: 1rem;
  }

  .facilitator-script {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 6px;
    margin: 1rem 0;
    border-left: 4px solid #667eea;
  }

  .facilitator-script strong {
    color: #667eea;
    display: block;
    margin-bottom: 0.5rem;
  }

  .facilitator-script p {
    margin-bottom: 0.75rem;
  }

  .facilitator-script ul {
    margin-left: 1.5rem;
    margin-top: 0.5rem;
  }

  .facilitator-script li {
    margin-bottom: 0.5rem;
  }

  .print-button:hover {
    background: #5568d3;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    transition: all 0.3s ease;
  }

  /* Print styles */
  @media print {
    header, footer, .print-button {
      display: none !important;
    }
    
    body {
      background: white !important;
    }
    
    main {
      background: white !important;
      padding: 0 !important;
    }
    
    .facilitator-container {
      box-shadow: none !important;
      padding: 0 !important;
      max-width: 100% !important;
    }

    .facilitator-header {
      border-bottom: 2px solid #333 !important;
    }

    h4 {
      page-break-after: avoid;
      color: #333 !important;
      border-bottom: 2px solid #333 !important;
    }

    h5 {
      page-break-after: avoid;
    }

    .facilitator-script {
      page-break-inside: avoid;
      border-left: 4px solid #333 !important;
      background: #f5f5f5 !important;
    }

    .facilitator-script strong {
      color: #333 !important;
    }
  }

  @media (max-width: 768px) {
    .facilitator-container {
      padding: 1.5rem !important;
    }

    .facilitator-header {
      flex-direction: column !important;
      align-items: flex-start !important;
      gap: 1rem;
    }

    .facilitator-header h1 {
      font-size: 1.5rem !important;
    }

    .print-button {
      width: 100%;
      justify-content: center;
    }
  }
</style>
{{ end }}
